<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/htmlcharset=UTF-8" />
    <meta http-equiv="x-ua-compatible" content="ie=8" />
    <meta name="renderer" content="webkit" />
    <meta name="WT.page_name" content="index" />
    <meta content="zh-cn" http-equiv="content-language" />
    <meta name="SmartView_Page" content="1" />
    <meta http-equiv="Cache-Control" content="no-transform " />
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <title>汇福-地址管理</title>
    <link type="text/css" rel="stylesheet" href="./css/reset.css">
    <link type="text/css" rel="stylesheet" href="./css/hf_header-footer.css">
    <link type="text/css" rel="stylesheet" href="./css/hf_personal-center.css">
    <link href="./images/logo.ico" rel="shortcut icon" type="image/x-icon" />
    <script type="text/javascript" src="js/jquery1.8.3.min.js"></script>
    <script type="text/javascript">var header_index = 0;</script>
    <script type="text/javascript" src="js/hf-header_footer.js"></script>
    <script type="text/javascript" src="js/getarea.js"></script>    
    <script type="text/javascript" src="js/common.js"></script>

</head>
<body>
    <!-- 头部 -->
    <div id="new_header"></div>
    <!-- 头部end -->
    <!-- 主体 -->
   <div class="well  clearfix">
        <a href="javascript:window.history.back();" class="go_back clearfix">个人中心</a>
        <!-- 个人中心 -->
        <div class="body_side fl">
            <ul class="ul_nav">
                <li class="li_01"><a href="hf_personal-center.html" class="a_style">个人中心</a></li>
                <li class=" active"><a href="hf_my-order-all.html" class="a_style">我的订单</a></li>
                <li><a href="hf_my-evaluate.html" class="a_style">我的评价</a></li>
                <li><a href="hf_my-integration.html" class="a_style">我的积分</a></li>
                <li><a href="hf_my-collect.html" class="a_style">我的收藏</a></li>
                <li><a href="hf_my-appointment.html" class="a_style">我的预约</a></li>
                <li><a href="hf_convert-discount.html" class="a_style">我的优惠券</a></li>
            </ul>
            <ul class="ul_nav ul_nav_02">    
                <p class="li_title">个人信息</p>
                <li><a href="hf_information-change.html" class="a_style">资料修改</a></li>
                <li><a href="hf_password-change.html" class="a_style">密码修改</a></li>
                <li  class=" active"><a href="hf_per-address-manage.html" class="a_style">地址管理</a></li>
  
            </ul>
        </div>
        <!-- 左边主体 -->
        <div class="body_right fr">
            <p class="body_title">地址管理</p>

            <div class="address">
                <div class="common_box">
                    <table id="table" class="table_addr" >
                        <tr class="per_center">
                            <th width="120">收货人</th>
                            <th width="164">所在地区</th>
                            <th width="178">详细地址</th>
                            <th width="156">邮编号码</th>
                            <th width="158">手机号码</th>
                            <th width="189">操作</th>
                        </tr>
                        <tr class="per_center">
                            <td >张三郎</td>
                            <td >广东省广州市番禺区</td>
                            <td >某某大厦6楼666室</td>
                            <td >510000</td>
                            <td >138000138000</td>
                            <td >
                               <a href="javascrpit:void(0)" class="adress_btn1">修改</a>
                               <a href="javascrpit:void(0)" onclick="removeaddr(this)" class="adress_btn2">删除</a>
                               <a href="javascrpit:void(0)" onclick="aaa(this)" class="adress_btn3 adress_mo">默认地址</a>
                            </td>                               
                        </tr>
                        <tr class="per_center">
                            <td >张三郎</td>
                            <td >广东省广州市番禺区</td>
                            <td >某某大厦6楼666室</td>
                            <td >510000</td>
                            <td >138000138000</td>
                            <td >
                               <a href="javascrpit:void(0)" class="adress_btn1">修改</a>
                               <a href="javascrpit:void(0)" onclick="removeaddr(this)" class="adress_btn2">删除</a>
                               <a href="javascrpit:void(0)" onclick="aaa(this)" class=" adress_mo">设置默认地址</a>
                            </td>                               
                        </tr>           
                    </table>

                    <!-- 注：地址为空内容 -->
                     <p class="kong">您的地址为空，赶紧添加收货地址吧</p>
                    <!-- 注：地址为空内容  end -->

                </div>
                <div class="add_address">
                    <a href="javascrpit:void(0)" onclick="addbtn(this)" class="add_btn">新增收货地址</a>

                    <!-- 新增收货地址 -->
                    <div class="control-group">
                        <form action="">
                            <div class="add_box">
                                <label class="label_common">
                                    <span class="span_box"><em>*</em>收货人</span>
                                    <input type="text" value="" name="name" placeholder="张三郎" class="input_box"  required="required"/>
                                </label>
                            </div>
                            <div class="add_box">
                                <label class="label_common">
                                    <span class="span_box"><em>*</em>手机号码</span>
                                    <input type="text" value="" name="phone" placeholder="13800138000" class="input_box" required="required"/>
                                </label>
                            </div>
                            <div class="controls">
                                <span class="span_box"><em>*</em>详细地址</span>
                                <input name='country' value='1' type="hidden">
                                <select name="province" id="province" onChange="get_city(getarea_url, this)">
                                    <option value="0">请选择</option>
                                    <volist name="province_arr" id="p">
                                        <option <if condition="$province eq $p['id']">selected</if> value="{$p.id}">{$p.name}</option>
                                    </volist>
                                </select>
                                <select name="city" id="city" onChange="get_area(getarea_url, this)" class="select_common">
                                    <option value="0">请选择</option>
                                    <volist name="city_arr" id="p">
                                        <option <if condition="$city eq $p['id']">selected</if> value="{$p.id}">{$p.name}</option>
                                    </volist>
                                </select>
                                <select name="district" id="district" onChange="get_twon(getarea_url, this)" class="select_common">
                                    <option value="0">请选择</option>
                                    <volist name="district_arr" id="p">
                                        <option <if condition="$district eq $p['id']">selected</if> value="{$p.id}">{$p.name}</option>
                                    </volist>
                                </select>
                                <input type="text" value="" name="adress" class="input_common" placeholder="某某街道 某某大厦6楼666室"/>

                            </div>
                            <div class="btn_box">
                                <input type="submit" value="保存" onclick="save(this)" class="save"/>
                                <a href="javascrpit:void(0)" onclick="cancel(this)" class="cancel">取消</a>
                                <label class="label_inp"><input type="checkbox" value="" class="moyen">设置为默认地址</label>
                            </div>
                        </form>
                    </div>
                    <!--新增收货地址  -->
                </div>
            </div>
        </div>
        <!-- 左边主体 -->
        <!-- 个人中心 -->
    </div>

  <!-- 底部 -->
  <div id="footer"></div>
  <!-- 底部  end-->
    <!-- 右边固定栏 -->
  <div id="izl_rmenu" class="izl_rmenu"></div>

    <!-- 右边固定栏 -->
</body>
<script type="text/javascript">
$('form').submit(function () {
    var error = "";
    var name = $('input[name="name"]').val();
    var phone = $('input[name="phone"]').val();
    var month = $('select[name="month"]').val();
    var day = $('select[name="day"]').val();
    var province = $('select[name="province"]').val();
    var city = $('select[name="city"]').val();
    var district = $('select[name="district"]').val();
    var adress = $('input[name="adress"]').val();
    if (name.length < 1) {
        error += '请输入收货人姓名';
    } 
    else if (phone.length < 1) {
        error += '请输入手机号';
    } 
    else if(year.length < 1){
        error += '请选择年份';
    }
    else if(month.length < 1){
        error += '请选择月份';
    }
    else if(day.length < 1){
        error += '请选择天数';
    }
    else if(province.length < 1){
        error += '请选择省份';
    }
    else if(city.length < 1){
        error += '请选择城市';
    }
    else if(district.length < 1){
        error += '请选择地区';
    }
    else if (adress.length < 1) {
        error += '请输入具体地址';
    } 
    if (error) {
        showErrorMsg(error);
        return false;
    }
    $.ajax({
        cache: true,
        type: "POST",
        url: $('form')[0].action,
        data: $('form').serialize(),// 你的formid
        success: function (data) {
            if (data.status == 1) {
                window.location.href = "{hf_per-address-manage.html}";
            } else {
                showErrorMsg(data.msg);
            }
        }
    });
    return false;
}); 
     //地址默认选择
   // (function(){
   //      var btns = document.querySelectorAll(".adress_mo");
   //      for(var i = 0; i < btns.length; i++){
   //          btns[i].index = i;
   //          btns[i].addEventListener("click",function(){
   //              for(var j = 0; j < btns.length; j++){
   //                  btns[j].classList.remove("adress_btn3");
   //                   btns[j].innerHTML = "设置默认地址";
   //                  btns[this.index].classList.add("adress_btn3"); 
   //                  btns[this.index].innerHTML = "默认地址";                   
   //         }
   //          });
   //      }
   //   })();
 
        function aaa(obj){
        var btns = document.querySelectorAll(".adress_mo");
        for(var i = 0; i < btns.length; i++){
                    btns[i].classList.remove("adress_btn3");
                     btns[i].innerHTML = "设置默认地址";
            }
                    obj.classList.add("adress_btn3"); 
                    obj.innerHTML = "默认地址"; 
        }

</script>
<script type="text/javascript">
    $(function () {
        $('.body_side .ul_nav a').click(function(){
            $(this).parent().addClass('active').siblings('li').removeClass('active');
        });
        // $('.adress_btn2').click(function(){
        //     $(this).parents('.per_center').remove();
        // });


       });
    //删除地址
    function removeaddr(obj){
        $(obj).parents('.per_center').remove();
    }
    //新增地址
    function addbtn(obj){
        $(obj).next().css('display','block');
    }
    //保存地址
    function save(obj){
        $(obj).parents('.control-group').css('display','none');
    }
    //取消地址
    function cancel(obj){
        $(obj).parents('.control-group').css('display','none');
    }       


</script>
</html>